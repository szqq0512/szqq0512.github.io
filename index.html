<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="QQXZ.COM,青青小竹,旅游,旅行,景点,国保,风景,城市介绍,乡村介绍,中文旅行网站,旅行参考,旅游指南"/>
    <meta name="description" content="QQXZ.COM,青青小竹,青青小竹网,个人旅游资料收集,旅游资源"/>
    <title>青青小竹网 | 旅游百科 | 各地景点</title>
    <script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/marked/4.0.2/marked.min.js"></script>
    <style>
        :root {
            --primary: #6c5ce7;
            --secondary: #fd79a8;
            --accent: #00cec9;
            --light: #f7f7ff;
            --dark: #2d3436;
            --sidebar-bg: #fff;
            --content-bg: #f9f9f9;
            --card-bg: #fff;
            --border: #e0e0e0;
            --text: #3d3d3d;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            display: flex;
            flex-direction: column;
            height: 100vh;
            background: var(--content-bg);
            color: var(--text);
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
            -moz-user-select: none;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, #5d4ae0 100%);
            color: white;
            padding: 15px 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            z-index: 100;
        }

        hr {
            margin: -0.5rem 0; 
        }
        
        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 90%;
            max-width: 3840px;
            margin: 0 auto;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .logo a {
            color: white;
            text-decoration: none;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: flex-end;
            padding-left: 20px;
        }
        
        nav li {
            margin: 3px 0;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 30px;
            font-weight: 500;
            background-color: rgba(255, 255, 255, 0.15);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            white-space: nowrap;
            font-size: 0.95rem;
            display: block;
        }
        
        nav a:hover, nav a.active {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
        
        .mobile-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px 10px;
        }

            .sidebar-header .toggle-btn {
                display: none;
            }
        
        .container {
            display: flex;
            flex: 1;
            overflow: hidden;
            width: 90%;
            max-width: 3840px;
            margin: 10px auto;
            padding: 0 10px;
            gap: 15px;
            /* 移除max-width: 1400px;，改为响应式宽度 */
        }
        
        .sidebar {
            width: 250px;
            background: var(--sidebar-bg);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
            display: flex;
            flex-direction: column;
        }
        
        .sidebar-header {
            height: 62px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            background: linear-gradient(135deg, var(--primary) 0%, #5d4ae0 100%);
            color: white;
            cursor: pointer;
        }
        
        .sidebar-header h2 {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.2rem;
            font-weight: 600;
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
        }
        
        .tree-view {
            padding: 10px 0;
            flex: 1;
            overflow-y: auto;
            background: var(--sidebar-bg);
        }
        
        .folder, .file, .heading-item {
            padding: 6px 10px 6px 1em;
            margin: 2px 5px;
            border-radius: 8px;
            cursor: pointer;
            position: relative;
            display: flex;
            align-items: center;
            min-height: 28px;
            white-space: nowrap;
            overflow: hidden;
            background: var(--light);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
        }

        .heading-item {
            padding-left: 2em; /* 原本1em，现多移一个字符宽度 */
        }
        
        .folder:hover, .file:hover, .heading-item:hover {
            background: #e0ebff;
        }
        
        .content {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--content-bg);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }
        
        .markdown-container {
            flex: 1;
            overflow-y: auto;
            padding: 2em;
            background: var(--card-bg);
            /* 适配移动端底部安全区，防止内容被导航条遮挡 */
            padding-bottom: max(2em, 12vh, env(safe-area-inset-bottom, 32px));
        }

        .markdown-content {
            line-height: 1.7;
            color: var(--text);
            font-size: 1.05rem;
            text-align: left;
        }

        .markdown-content > p { 
            margin: 1em 0;
        }
        
        .markdown-content a {
            text-decoration: none;
            color: var(--primary);
        }
        
        .markdown-content a:hover {
            color: var(--accent);
        }
        
        .markdown-content h1 { 
            color: var(--primary);
            font-size: 2rem;
            padding-bottom: 4px;
            border-bottom: 1px solid var(--border);
        }
        
        .markdown-content h2 {
            color: var(--accent);
            font-size: 1.7rem;
            margin: 25px 0 15px;
            padding-bottom: 4px;
            border-bottom: 1px solid var(--border);
        }
        
        .markdown-content h3 {
            color: var(--secondary);
            font-size: 1.4rem;
            margin: 25px 0 15px;
            padding-bottom: 4px;
            border-bottom: 1px solid var(--border);
        }
        
        
        /* 列表样式 - 更新 */

        .markdown-content ul {
            list-style: none;
        }
        
        .markdown-content ul > li {
            position: relative;
            padding: 0.25em 0.5em;
        }
        
        .markdown-content ul > li:nth-child(even) {
            background-color: #f0f5ff;
        }
        
      
        /* 引用块样式 - 更新 */
        .markdown-content blockquote {
            font-size: 0.92em;
            font-style: italic;
            color: #008080;
            margin-left: 1rem;
            border-left: 0.12em solid #008080;
            padding: 0 0.8em;
            border-radius: 0 8px 8px 0;
        }
        
        /* 强调文本样式 - 更新 */
        .markdown-content em {
            color: #346c91;
            font-style: normal;
        }
        
        .empty-state {
            text-align: center;
            padding: 50px 20px;
            color: var(--text-light);
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        .empty-state h2 {
            margin-bottom: 15px;
            color: var(--dark);
            font-size: 1.6rem;
        }
        
        .welcome-image {
            max-width: 80%;
            border-radius: 10px;
            margin-top: 20px;
            opacity: 1; /* 直接显示 */
        }
        
        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin: 0 auto;
            text-align: center;
        }
        
        .children {
            display: none;
        }
        
        .folder.expanded + .children {
            display: block;
        }
        
        .tree-view .children {
            border-left: none;
            margin-left: 10px;
        }
        
        .tree-view .children .folder,
        .tree-view .children .file {
            margin-left: 10px;
        }
        
        /* markdown图片自适应容器宽度 */
        .markdown-content img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 1em auto;
        }
        
        @media (max-width: 992px) {
            .top-nav {
                width: 100%;
            }

            .container {
                width: 100%;
                flex-direction: column;
                padding: 0;
                margin: 0;
                gap: 0;
            }
            
            .sidebar {
                width: 100%;
                border-radius: 0;
                max-height: 40vh;
                box-shadow: none;
                border-bottom: 1px solid var(--border);
            }
            
            .sidebar.collapsed {
                overflow: hidden;
            }
            
            .sidebar.collapsed .tree-view {
                display: none;
            }
            
            .sidebar-header .toggle-btn {
                display: block;
            }
            
            .content {
                border-radius: 0;
                box-shadow: none;
            }

            .markdown-container {
                padding: 0.8em;
                padding-bottom: 18vh !important; /* 兼容 Edge 浏览器底部遮挡问题 */
            }

            nav ul {
                gap: 8px;
                justify-content: center;
                padding-left: 0;
            }
            
            nav li {
                flex: 1 0 45%;
                text-align: center;
            }

            .mobile-toggle {
                display: block;
            }
            
            nav {
                display: none;
                width: 100%;
            }
            
            nav.active {
                display: block;
            }
            
            .top-nav {
                flex-direction: column;
            }
            
            .logo-container {
                display: flex;
                justify-content: space-between;
                align-items: center;
                width: 100%;
            }
        }
        
        .toggle-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 6px 10px;
        }
        
        .toggle-btn .emoji-icon {
            font-size: 1.6em;
            color: #fff;
        }
        
        .heading-item.h1 .emoji-icon {
            color: var(--primary);
        }
        
        .heading-item.h2 .emoji-icon {
            color: var(--accent);
        }
        
        .heading-item.h3 .emoji-icon {
            color: var(--secondary);
        }

    </style>
</head>
<body>
    <header>
        <div class="top-nav">
            <div class="logo-container">
                <div class="logo">
                    <span class="emoji-icon" aria-label="logo">📖</span>
                    <a href="index.html"><span>青青小竹网</span></a>
                </div>
                <button id="mobile-menu-toggle" class="mobile-toggle" aria-label="展开菜单">
                    <span class="emoji-icon" aria-label="菜单">☰</span>
                </button>
            </div>
            <nav id="top-nav">
                <ul id="nav-menu">
                    <!-- 导航菜单将通过JS动态生成 -->
                </ul>
            </nav>
        </div>
    </header>
    
    <div class="container">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header" id="sidebar-header">
                <h2>
                  <span class="emoji-icon" aria-label="文件夹">📁</span>
                  <span id="sidebar-title"></span>
                </h2>
                <button class="toggle-btn" id="toggle-sidebar" data-collapsed="false"><span class="emoji-icon" aria-label="下拉">▽</span></button>
            </div>
            <div class="tree-view" id="tree-view"></div>
        </aside>
        
        <main class="content" id="content">
            <div class="empty-state">
                <h2>欢迎使用青青小竹网</h2>
		<br>
                 <p>一个简单的使用Markdown语法的个人笔记。</p>  
		<br>
                 <p>从网上搜集整理的旅游相关资料，主要罗列了中国各地的概况、景点及特色村寨等，方便查找和出行规划。</p>
		<br>
                 <p>请选择要查看的文件</p>
               <img src="https://s1.imagehub.cc/images/2025/06/13/bf3432b185d01be77f7f9f78f3a79dd7.webp" 
                     alt="Welcome Image" 
                     class="welcome-image" 
                     loading="lazy">
            </div>
        </main>
    </div>

    <script>
    (function () {
        const $ = {
            navMenu: document.getElementById('nav-menu'),
            treeView: document.getElementById('tree-view'),
            sidebar: document.getElementById('sidebar'),
            sidebarHeader: document.getElementById('sidebar-header'),
            sidebarTitle: document.getElementById('sidebar-title'),
            content: document.getElementById('content'),
            toggleSidebar: document.getElementById('toggle-sidebar'),
            mobileMenuToggle: document.getElementById('mobile-menu-toggle'),
            topNav: document.getElementById('top-nav')
        };
        const cache = {dirCache:{}, mdContent:{}, headings:{}, markedLoaded:false, currentFile:null, initialContentHTML:''};
        const cleanPath = p => p ? p.replace(/\\/g, '/').trim() : '';
        async function loadVxJson(path) {
            path = cleanPath(path||'');
            if (cache.dirCache[path]) return cache.dirCache[path];
            let url = path ? `旅游/${path}/vx.json` : '旅游/vx.json';
            try {
                let r = await fetch(url);
                if (!r.ok) return {folders:[],files:[]};
                let d = await r.json();
                cache.dirCache[path] = d; return d;
            } catch { return {folders:[],files:[]}; }
        }
        async function loadFolder(path) {
            $.sidebarTitle.textContent = path.split('/').pop()||path;
            $.treeView.innerHTML = '<div class="loader"></div>';
            let d = await loadVxJson(path);
            $.treeView.innerHTML = '';
            d.folders.forEach(f=>$.treeView.appendChild(folderElem(f, path)));
            d.files.forEach(f=>$.treeView.appendChild(fileElem(f, path)));
            updateNav(path); $.content.innerHTML = cache.initialContentHTML;
        }
        function folderElem(f, p) {
            let c = document.createElement('div'), e = document.createElement('div');
            e.className = 'folder'; e.innerHTML = '<span class="emoji-icon">📁</span>'+f.name;
            e.dataset.path = p?p+'/'+f.name:f.name; e.title = f.name;
            let ch = document.createElement('div'); ch.className = 'children';
            c.appendChild(e); c.appendChild(ch); return c;
        }
        function fileElem(f, p) {
            let c = document.createElement('div'), e = document.createElement('div');
            e.className = 'file';
            let n = f.name.endsWith('.md')?f.name.slice(0,-3):f.name;
            e.innerHTML = '<span class="emoji-icon">📄</span>'+n;
            e.dataset.path = p?p+'/'+f.name:f.name; e.title = n;
            let ch = document.createElement('div'); ch.className = 'children'; ch.style.display='none';
            c.appendChild(e); c.appendChild(ch); return c;
        }
        function updateNav(path) {
            let n = path.split('/')[0];
            document.querySelectorAll('#nav-menu a').forEach(a=>a.classList.toggle('active',a.dataset.path===n));
        }
        async function fetchMd(filePath) {
            let full = `旅游/${filePath}`;
            if (cache.mdContent[full]) return cache.mdContent[full];
            let r = await fetch(full); if (!r.ok) return '';
            let t = await r.text(); cache.mdContent[full]=t; return t;
        }
        function parseHeadings(md) {
            if (cache.headings[md]) return cache.headings[md];
            let h=[], t=window.marked.lexer(md);
            t.forEach(tok=>{if(tok.type==='heading'&&tok.depth<=3)h.push({level:tok.depth,text:tok.text})});
            cache.headings[md]=h; return h;
        }
        async function showMd(filePath, headingsContainer) {
            await checkMarkedLoaded();
            let md = await fetchMd(filePath), h = parseHeadings(md);
            let cont = document.createElement('div'); cont.className='markdown-container';
            let area = document.createElement('div'); area.className='markdown-content';
            let renderer = new window.marked.Renderer(), hid=0;
            renderer.heading = (t,l)=>`<h${l} id="heading-${l}-${hid++}">${t}</h${l}>`;
            area.innerHTML = window.marked.parse(md, {renderer});
            cont.appendChild(area);
            genHeadingsTree(h, headingsContainer);
            $.content.innerHTML = ''; $.content.appendChild(cont);
        }
        function genHeadingsTree(h, c) {
            c.innerHTML=''; c.style.display='block';
            h.forEach(he=>{
                let hi=document.createElement('div'); hi.className=`heading-item h${he.level}`;
                let icon=he.level===1?'›&ensp;':he.level===2?'»&ensp;':he.level===3?'»›&ensp;':'';
                hi.innerHTML=`<span class="emoji-icon">${icon}</span><span>${he.text}</span>`;
                hi.onclick=e=>{e.stopPropagation();scrollToHeading(he.text,he.level)};
                c.appendChild(hi);
            });
        }
        function scrollToHeading(text, level) {
            let hs=document.querySelectorAll(`h${level}`);
            let t=Array.from(hs).find(h=>h.textContent===text);
            if(t){let c=document.querySelector('.markdown-container'),cr=c.getBoundingClientRect(),tr=t.getBoundingClientRect(),st=c.scrollTop,off=tr.top-cr.top+st-12;c.scrollTo({top:off,behavior:'smooth'});}
        }
        async function checkMarkedLoaded() {
            if (window.marked) return;
            await new Promise(r=>{let i=setInterval(()=>{if(window.marked){clearInterval(i);r();}},100)});
        }
        // 事件绑定
        $.navMenu.onclick=async e=>{
            if(e.target.tagName==='A'){e.preventDefault();let p=e.target.dataset.path;await loadFolder(p);if(window.innerWidth<=992)$.topNav.classList.remove('active');$.content.innerHTML=cache.initialContentHTML;}
        };
        $.treeView.onclick=async e=>{
            let f=e.target.closest('.folder'),file=e.target.closest('.file');
            if(f){
                let ch=f.parentElement.querySelector('.children');
                ch.querySelectorAll('.folder.expanded').forEach(sf=>{sf.classList.remove('expanded');let se=sf.querySelector('.emoji-icon');if(se)se.textContent='📁';});
                ch.querySelectorAll('.children').forEach(sc=>sc.style.display='none');
                f.classList.toggle('expanded');
                let em=f.querySelector('.emoji-icon');
                if(f.classList.contains('expanded')){
                    if(em)em.textContent='📂';
                    if(ch.children.length===0){
                        let d=await loadVxJson(f.dataset.path);ch.innerHTML='';
                        d.folders.forEach(sf=>ch.appendChild(folderElem(sf,f.dataset.path)));
                        d.files.forEach(fi=>ch.appendChild(fileElem(fi,f.dataset.path)));
                    }
                    ch.style.display='block';
                }else{if(em)em.textContent='📁';ch.style.display='none';}
            }else if(file){
                let ch=file.parentElement.querySelector('.children');
                if(cache.currentFile===file){let o=ch.style.display==='block';ch.style.display=o?'none':'block';file.classList.toggle('expanded',!o);return;}
                if(cache.currentFile){let pch=cache.currentFile.parentElement.querySelector('.children');if(pch)pch.style.display='none';cache.currentFile.classList.remove('expanded','active');}
                cache.currentFile=file;document.querySelectorAll('.file,.folder').forEach(el=>el.classList.remove('active'));
                file.classList.add('active','expanded');
                await showMd(file.dataset.path,ch);
            }
        };
        $.sidebarHeader.onclick=()=>{
            if(window.innerWidth<=992){$.sidebar.classList.toggle('collapsed');let icon=$.toggleSidebar.querySelector('.emoji-icon'),col=$.sidebar.classList.contains('collapsed');$.toggleSidebar.setAttribute('data-collapsed',col);icon.textContent=col?'△':'▽';}
        };
        $.mobileMenuToggle.onclick=()=>{$.topNav.classList.toggle('active');};
        // 初始化
        (async function(){cache.initialContentHTML=$.content.innerHTML;let d=await loadVxJson('');if(d.folders&&d.folders.length){$.navMenu.innerHTML='';d.folders.forEach(f=>{let li=document.createElement('li'),a=document.createElement('a');a.href='#';a.textContent=f.name;a.dataset.path=f.name;li.appendChild(a);$.navMenu.appendChild(li);});let first=d.folders[0];await loadFolder(first.name);}
        })();
    })();
    </script>
</body>
</html>